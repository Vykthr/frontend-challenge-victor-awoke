<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-title style="text-align: center;">
            <span>Holiday</span>
        </ion-title>
    </ion-toolbar>
    <ion-toolbar style="padding: .5rem 1rem">
        <ion-searchbar [(ngModel)]="searchQuery" placeholder="Search" type="text" [debounce]="250" showCancelButton="never" cancelButtonIcon="search"></ion-searchbar>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-refresher slot="fixed" (ionRefresh)="refresh($event)">
        <ion-refresher-content
            pullingIcon="arrow-down"
            pullingText="Pull to refresh"
            refreshingSpinner="bubbles"
            refreshingText="Refreshing...">
        </ion-refresher-content>
    </ion-refresher>
  
    <div>
        <div *ngFor="let country of sortedList(searchCountry(), 'name')">
            <!-- <ion-card *ngIf="movie.details.genre.includes('drama')" (click)="open(movie)">
                <img [src]="movie.details.img">
                <ion-row>
                <ion-col size="9">
                    <p>{{movie.details.title}} ({{movie.details.year}})</p>
                    <div class="stars" *ngFor="let star of arr; let i = index">
                    <ion-icon *ngIf="i <= getRate(movie.details.votes, movie.details.views) - 1; else half" class="starred" name="star"></ion-icon>
                    <ng-template #half>
                        <ion-icon *ngIf="getRate(movie.details.votes, movie.details.views)%1 >= 0.5 && i - trunc(getRate(movie.details.votes, movie.details.views)-1) == 1; else def" class="starred"  name="star-half-outline"></ion-icon>
                    </ng-template>
                    <ng-template #def>
                        <ion-icon name="star"></ion-icon>
                    </ng-template>
                    </div>
                </ion-col>
                <ion-col size="3" class="from">
                    <img [src]="'assets/' + movie.details.from + '.png'">
                </ion-col>
                </ion-row>
            </ion-card> -->
            <ion-item (click)="showCountryHolidays(country)" >
                <ion-img src="https://countryflagsapi.com/png/{{country.code}}" style="width: 40px;" alt="flag" slot="start" ></ion-img>
                <ion-label>{{country.name}}</ion-label>
                <ion-icon slot="end" name="chevron-forward-outline"></ion-icon>
            </ion-item>
        </div>
    
        <!-- <ng-template #load>
            <div *ngIf="loader; else err"  class="loader">
                <ion-spinner name="crescent"></ion-spinner>
            </div>
            <ng-template #err>
                <div class="loader">
                    <div>
                    <img src="assets/error.png">
                    <p>AN ERROR OCCURED</p>
                    <small>Pull to Refresh</small>
                    </div>
                </div>
            </ng-template>
        </ng-template> -->
    </div>

</ion-content>